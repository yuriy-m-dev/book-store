(this["webpackJsonpbook-store"]=this["webpackJsonpbook-store"]||[]).push([[0],{47:function(e,t){e.exports="data:image/png;base64,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"},53:function(e,t,a){e.exports=a.p+"static/media/preloader.e2175d70.svg"},57:function(e,t,a){e.exports=a(86)},62:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),o=a.n(r),i=(a(62),a(3)),l=a(14),s=a(47),m=a.n(s),u=a(5),d=a(56),p=a(34),E=a.n(p),b=a(51),y=a(1),O=a(52),v=a.n(O).a.create({baseURL:"https://my-json-server.typicode.com/yuriy-m-dev/book-store/"}),g=function(e,t,a,n,c){return v.get("books?".concat(null!==e?"category=".concat(e,"&"):"","_sort=").concat(t,"&_order=").concat(a).concat(n?"&q=".concat(n):"","&_page=").concat(c)).then((function(e){return e}))},f={books:null,isFetching:!1,searchQuery:"",currentPage:1,totalCount:0,pageSize:10},N=function(e){return{type:"SET_IS_FETCHING",payload:e}},h=function(e){return{type:"SET_CURRENT_PAGE",payload:e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return Object(y.a)(Object(y.a)({},e),{},{books:t.payload});case"SET_SEARCH_QUERY":return Object(y.a)(Object(y.a)({},e),{},{searchQuery:t.payload});case"CLEAR_SEARCH_QUERY":return Object(y.a)(Object(y.a)({},e),{},{searchQuery:""});case"SET_TOTAL_COUNT":return Object(y.a)(Object(y.a)({},e),{},{totalCount:+t.payload});case"SET_CURRENT_PAGE":return Object(y.a)(Object(y.a)({},e),{},{currentPage:t.payload});case"SET_IS_FETCHING":return Object(y.a)(Object(y.a)({},e),{},{isFetching:t.payload});default:return e}},j=function(e){return{}},_=function(){var e=Object(u.b)();return c.a.createElement(d.a,{initialValues:{query:""},validate:j,onSubmit:function(t,a){var n=a.setSubmitting,c=a.resetForm;e({type:"SET_SEARCH_QUERY",payload:t.query}),n(!1),c()}},(function(e){var t=e.values,a=e.handleChange,n=e.handleBlur,r=e.handleSubmit,o=e.isSubmitting;return c.a.createElement("form",{className:"header__search-form",onSubmit:r},c.a.createElement("div",{className:"header__search-inner"},c.a.createElement("input",{type:"text",name:"query",onChange:a,onBlur:n,value:t.query}),c.a.createElement("button",{type:"submit",disabled:o},"Search")))}))},k=function(){var e=Object(u.c)((function(e){return{totalCount:e.cart.totalCount,totalPrice:e.cart.totalPrice}})),t=e.totalCount,a=e.totalPrice,n=Object(i.e)();return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header__inner"},c.a.createElement("div",{className:"logo"},c.a.createElement(l.b,{to:"/"},c.a.createElement("img",{src:m.a,alt:"logo"}))),"/cart"===n.pathname?null:c.a.createElement(_,null),c.a.createElement("div",{className:"header__info-block"},c.a.createElement("div",{className:"header__cart"},c.a.createElement("span",{className:"header__cart-text"},"Your cart"),c.a.createElement("span",{className:"header__cart-count"},"(",t," items)")),c.a.createElement("div",{className:"header__price"},c.a.createElement("span",null,"$",a),c.a.createElement("button",{className:"header__price-btn"},c.a.createElement(l.b,{to:"/cart"},"Checkout")))))))},A=a(22),S=a(16),P=a.n(S),w={categories:["Cooking","Education","Fiction","Computers","Mathematics"],activeCategory:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_CATEGORY":return Object(y.a)(Object(y.a)({},e),{},{activeCategory:t.payload});default:return e}},R=function(e){var t=e.categoryNames,a=e.activeCategory,r=Object(u.b)(),o=Object(n.useState)(!0),i=Object(A.a)(o,2),l=i[0],s=i[1],m=function(e){r(function(e){return{type:"SET_ACTIVE_CATEGORY",payload:e}}(e)),r({type:"CLEAR_SEARCH_QUERY"}),r(h(1)),s(!1)};return c.a.createElement("div",{className:"nav"},c.a.createElement("div",{className:"nav__title"},"Categories"),c.a.createElement("ul",{className:"nav__list"},c.a.createElement("li",{onClick:function(){m(null),s(!0)},className:P()("nav__item",{active:l})},"All"),t.map((function(e,t){return c.a.createElement("li",{onClick:function(){return m(t)},className:P()("nav__item",{active:a===t}),key:t},e)}))))},I=function(e){var t=e.obj,a=e.onAddBookToCartClick,n=e.addedCount;return c.a.createElement("div",{className:"products__item"},c.a.createElement("div",{className:"products__image"},c.a.createElement("img",{src:t.imageUrl,alt:"book"})),c.a.createElement("div",{className:"products__title"},t.name),c.a.createElement("div",{className:"products__price"},"$",t.price),c.a.createElement("button",{onClick:function(){return a(t)},className:"products__btn"},c.a.createElement("span",null,"Add to cart ")," ",c.a.createElement("span",{className:"products__btn-count"},n)))},D={sortData:[{id:0,name:"Popular",type:"rating",order:"asc"},{id:1,name:"Price: Low to High",type:"price",order:"asc"},{id:2,name:"Price: High to Low",type:"price",order:"desc"},{id:3,name:"Name",type:"name",order:"asc"}],sortBy:{sortType:"rating",sortOrder:"asc"}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SORT_BY":return Object(y.a)(Object(y.a)({},e),{},{sortBy:Object(y.a)(Object(y.a)({},e.sortBy),{},{sortType:t.payload.type,sortOrder:t.payload.order})});default:return e}},Y=function(){var e=Object(u.c)((function(e){return e.sort.sortData})),t=Object(n.useState)(!1),a=Object(A.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(e[0].name),l=Object(A.a)(i,2),s=l[0],m=l[1],d=Object(n.useRef)(null),p=Object(u.b)(),E=function(e){(e.path||(null===e||void 0===e?void 0:e.composedPath)&&e.composedPath()).includes(d.current)||o(!1)};return Object(n.useEffect)((function(){return document.body.addEventListener("click",E),function(){document.body.removeEventListener("click",E)}}),[]),c.a.createElement("div",{className:"sorting"},c.a.createElement("div",{ref:d,className:"sorting__inner"},c.a.createElement("div",{className:"sorting__label"},c.a.createElement("p",null,"Sort by:"),c.a.createElement("span",{className:P()({rotate:r}),onClick:function(){o(!r)}},s)),r&&c.a.createElement("div",{className:"sorting__popup"},c.a.createElement("ul",null,e.map((function(t){return c.a.createElement("li",{onClick:function(){return a=t.id,n=t.type,c=t.order,m(e[a].name),o(!1),void p(function(e,t){return{type:"SET_SORT_BY",payload:{type:e,order:t}}}(n,c));var a,n,c},key:t.id},t.name)}))))))},J=function(e){var t=e.imageUrl,a=e.name,n=e.price,r=e.id,o=e.onRemoveItemClick,i=e.booksTotalCount,l=e.booksTotalPrice,s=e.onQtyUpClick,m=e.onQtyDownClick;return c.a.createElement("div",{className:"cart__item"},c.a.createElement("div",{className:"cart__item-desc"},c.a.createElement("div",{className:"cart__item-image"},c.a.createElement("img",{src:t,alt:"book"})),c.a.createElement("div",{className:"cart__item-info"},c.a.createElement("div",{className:"cart__item-title"},a),c.a.createElement("div",{className:"cart__item-price"},n," $"))),c.a.createElement("div",{className:"cart__item-checkout"},c.a.createElement("div",{className:"cart__item-quantity"},c.a.createElement("div",{className:"cart__item-quantity-label"},"Quantity"),c.a.createElement("div",{className:"cart__item-count"},c.a.createElement("button",{onClick:function(){return m(r)},className:"cart__item-count-minus"},"-"),c.a.createElement("span",null,i),c.a.createElement("button",{onClick:function(){return s(r)},className:"cart__item-count-plus"},"+"))),c.a.createElement("div",{className:"cart__item-total"},"$",l),c.a.createElement("button",{onClick:function(){return o(r)},className:"cart__item-remove-btn"},"Remove")))},M=function(){for(var e=Object(u.b)(),t=Object(u.c)((function(e){return{totalCount:e.books.totalCount,pageSize:e.books.pageSize,currentPage:e.books.currentPage}})),a=t.totalCount,n=t.pageSize,r=t.currentPage,o=Math.ceil(a/n),i=[],l=1;l<=o;l++)i.push(l);return c.a.createElement("ul",{className:"pagination"},i.map((function(t){return c.a.createElement("li",{className:P()({active:r===t}),key:t,onClick:function(){e(h(t))}},t)})))},Q=a(53),z=a.n(Q),x=function(){return c.a.createElement("div",{className:"preloader"},c.a.createElement("img",{src:z.a,alt:"preloader"}))},L=a(20),U=a(37),V=a(54),K={items:{},totalCount:0,totalPrice:0},X=function(e){return+e.reduce((function(e,t){return e+t.price}),0).toFixed(2)},Z=function(e,t){return Object.values(e).reduce((function(e,a){return e+function(e,t){var a=t.split("."),n=Object(V.a)(a),c=n[0];return n.slice(1).reduce((function(e,t){return e[t]}),e[c])}(a,t)}),0)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_BOOK_TO_CART":var a=e.items[t.payload.id]?[].concat(Object(U.a)(e.items[t.payload.id].items),[t.payload]):[t.payload],n=Object(y.a)(Object(y.a)({},e.items),{},Object(L.a)({},t.payload.id,Object(y.a)(Object(y.a)({},e.items[t.payload.id]),{},{items:a,totalPrice:X(a)}))),c=Z(n,"items.length"),r=+Z(n,"totalPrice").toFixed(2);return Object(y.a)(Object(y.a)({},e),{},{items:n,totalCount:c,totalPrice:r});case"CLEAR_CART":return Object(y.a)(Object(y.a)({},e),{},{items:{},totalCount:0,totalPrice:0});case"REMOVE_BOOK_FROM_CART":var o=Object(y.a)({},e.items);delete o[t.payload];var i=Z(o,"items.length"),l=+Z(o,"totalPrice").toFixed(2);return Object(y.a)(Object(y.a)({},e),{},{items:o,totalCount:i,totalPrice:l});case"QTY_UP":var s=[].concat(Object(U.a)(e.items[t.payload].items),[e.items[t.payload].items[0]]),m=Object(y.a)(Object(y.a)({},e.items),{},Object(L.a)({},t.payload,{items:s,totalPrice:X(s)})),u=Z(m,"items.length"),d=+Z(m,"totalPrice").toFixed(2);return Object(y.a)(Object(y.a)({},e),{},{items:m,totalCount:u,totalPrice:d});case"QTY_DOWN":var p=e.items[t.payload].items,E=p.length>1?e.items[t.payload].items.slice(1):p,b=Object(y.a)(Object(y.a)({},e.items),{},Object(L.a)({},t.payload,{items:E,totalPrice:X(E)})),O=Z(b,"items.length"),v=+Z(b,"totalPrice").toFixed(2);return Object(y.a)(Object(y.a)({},e),{},{items:b,totalCount:O,totalPrice:v});default:return e}},H=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return{books:e.books.books,categories:e.category.categories,activeCategory:e.category.activeCategory,sortType:e.sort.sortBy.sortType,sortOrder:e.sort.sortBy.sortOrder,cartItems:e.cart.items,searchQuery:e.books.searchQuery,pageNumber:e.books.currentPage,isFetching:e.books.isFetching}})),a=t.books,r=t.categories,o=t.activeCategory,i=t.sortType,l=t.sortOrder,s=t.cartItems,m=t.searchQuery,d=t.pageNumber,p=t.isFetching,y=function(t){e(function(e){return{type:"ADD_BOOK_TO_CART",payload:e}}(t))};return Object(n.useEffect)((function(){e(function(e,t,a,n,c){return function(){var r=Object(b.a)(E.a.mark((function r(o){var i;return E.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(N(!0)),r.next=3,g(e,t,a,n,c);case 3:i=r.sent,o({type:"SET_BOOKS",payload:i.data}),o(N(!1)),o({type:"SET_TOTAL_COUNT",payload:i.headers["x-total-count"]});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}(o,i,l,m,d))}),[o,i,l,m,d]),c.a.createElement("section",{className:"products"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"products__inner"},c.a.createElement(R,{categoryNames:r,activeCategory:o}),c.a.createElement("div",{className:"products__container"},c.a.createElement(Y,null),c.a.createElement("div",{className:"products__list"},p?c.a.createElement(x,null):a&&a.map((function(e){return c.a.createElement(I,{addedCount:s[e.id]&&s[e.id].items.length,key:e.id,obj:e,onAddBookToCartClick:y})}))),c.a.createElement(M,null)))))},W=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return{totalCount:e.cart.totalCount,totalPrice:e.cart.totalPrice,items:e.cart.items}})),a=t.totalCount,n=t.totalPrice,r=t.items,o=Object.keys(r).map((function(e){return r[e].items[0]})),i=function(t){e(function(e){return{type:"REMOVE_BOOK_FROM_CART",payload:e}}(t))},s=function(t){e(function(e){return{type:"QTY_UP",payload:e}}(t))},m=function(t){e(function(e){return{type:"QTY_DOWN",payload:e}}(t))};return c.a.createElement("div",{className:"cart"},c.a.createElement("div",{className:"container"},a?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"cart__inner"},c.a.createElement("div",{className:"cart__top-row"},c.a.createElement("div",{className:"cart__label"},"Shopping basket details"),c.a.createElement("span",{onClick:function(){window.confirm("Do you really want to clean the basket?")&&e({type:"CLEAR_CART"})},className:"cart__clear-btn"},"Clear cart")),o.map((function(e){return c.a.createElement(J,{booksTotalCount:r[e.id].items.length,onQtyDownClick:m,onQtyUpClick:s,booksTotalPrice:r[e.id].totalPrice,key:e.id,price:e.price,imageUrl:e.imageUrl,name:e.name,id:e.id,onRemoveItemClick:i})}))),c.a.createElement("div",{className:"cart__totals"},c.a.createElement("div",{className:"cart__message"},c.a.createElement("span",null,"You have ",a," items for a total of ",c.a.createElement("span",{className:"cart__message-price"},"$",n)," in your basket."),c.a.createElement("button",{className:"cart__totals-come-back-btn"},c.a.createElement(l.b,{to:"/"},"Come back"))),c.a.createElement("div",{className:"cart__totals-inner"},c.a.createElement("div",{className:"cart__totals-price"},c.a.createElement("span",null,"Total:")," $",n),c.a.createElement("button",{onClick:function(){console.log(r)},className:"cart__totals-pay-btn"},"Pay")))):c.a.createElement("div",{className:"cart__empty"},"Your Shopping Cart Is Empty")))};var F=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(k,null),c.a.createElement(i.a,{exact:!0,path:"/",component:H}),c.a.createElement(i.a,{exact:!0,path:"/cart",component:W}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(17),$=a(55),ee=Object(G.c)({books:C,category:T,sort:B,cart:q}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||G.d,ae=Object(G.e)(ee,te(Object(G.a)($.a)));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,null,c.a.createElement(u.a,{store:ae},c.a.createElement(F,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.2bcdd515.chunk.js.map